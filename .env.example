# Better Auth Configuration
BETTER_AUTH_SECRET=your-secret-key-here-please-change-this

# Database Configuration (SQLite for local dev)
DATABASE_URL=./dev.db

# For production, use a proper database like Vercel Postgres:
# DATABASE_URL=postgres://...

# Base URL Configuration
# The application automatically detects the correct URL:
# - Local development: defaults to http://localhost:3000
# - Vercel preview/production: uses VERCEL_URL automatically
#
# If Next.js starts on a different port (e.g., 3001), you can:
# Option 1: Set LOCAL_URL in .env.local
# LOCAL_URL=http://localhost:3001
#
# Option 2: Run with PORT environment variable
# PORT=3001 pnpm dev
#
# For production with custom domains:
# If you're using a custom domain (e.g., mcp-betterauth-nextjs.vercel.app),
# set AUTH_URL to ensure OAuth callbacks work correctly:
# AUTH_URL=https://mcp-betterauth-nextjs.vercel.app

# OAuth Hub Configuration for Preview URLs
# Set this to your production domain that will handle all OAuth callbacks
# This enables preview deployments to use OAuth without registering each URL
AUTH_HUB_URL=https://your-production-domain.vercel.app
NEXT_PUBLIC_AUTH_HUB_URL=https://your-production-domain.vercel.app

# State Parameter Secret
# Generate a secure 256-bit secret for JWT signing (e.g., openssl rand -base64 32)
# This prevents open redirect vulnerabilities in the OAuth flow
STATE_SECRET=your-state-secret-here-please-change-this

# Allowed redirect domains (comma-separated)
# Additional domains that are allowed for OAuth redirects besides *.vercel.app
# Example: example.com,staging.example.com
ALLOWED_REDIRECT_DOMAINS=

# Microsoft OAuth Configuration
# Register your app at https://portal.azure.com
# For OAuth Hub Pattern (recommended for preview URLs):
#   Add ONE redirect URI: https://your-production-domain.vercel.app/api/auth/callback/microsoft
# For standard setup (local dev without hub):
#   Add redirect URI: http://localhost:3000/api/auth/callback/microsoft
MICROSOFT_CLIENT_ID=token-here
MICROSOFT_CLIENT_SECRET=token-here
# Optional: Use "common" for multi-tenant, or specify your tenant ID
MICROSOFT_TENANT_ID=token-here

# HubSpot OAuth Configuration
# Register your app at https://app.hubspot.com/developers
# Add redirect URI: http://localhost:3000/api/auth/callback/hubspot (dev)
# Add redirect URI: https://your-domain.com/api/auth/callback/hubspot (prod)
# Required scopes: crm.objects.contacts.read
HUBSPOT_CLIENT_ID=your-hubspot-client-id
HUBSPOT_CLIENT_SECRET=your-hubspot-client-secret

# PandaDoc OAuth Configuration
# Register your app at https://developers.pandadoc.com/
# Add redirect URI: http://localhost:3000/api/auth/callback/pandadoc (dev)
# Add redirect URI: https://your-domain.com/api/auth/callback/pandadoc (prod)
# Required scopes: read+write
PANDADOC_CLIENT_ID=your-pandadoc-client-id
PANDADOC_CLIENT_SECRET=your-pandadoc-client-secret

# Xero OAuth Configuration
# Register your app at https://developer.xero.com/app/manage
# Add redirect URI: http://localhost:3000/api/auth/callback/xero (dev)
# Add redirect URI: https://your-domain.com/api/auth/callback/xero (prod)
# Required scopes: accounting.contacts.read, offline_access
XERO_CLIENT_ID=your-xero-client-id
XERO_CLIENT_SECRET=your-xero-client-secret

# Optional: Redis for SSE session resumability
# REDIS_URL=redis://...

# Development Only: No-auth mode for testing
# WARNING: Only use in development! Automatically authenticates as test user
# NO_AUTH=true